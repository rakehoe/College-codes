<!DOCTYPE html>
<html>

<head>
    <script type="importmap">
        {
            "imports": {
                "three": 
                "https://unpkg.com/three/build/three.module.js",
                "three/addons/": 
                "https://unpkg.com/three/examples/jsm/"
            }
        }
    </script>
</head>

<body>
    <!-- <script type="module" src="main.js"></script> -->
    <script type="module">
        
import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

const width = window.innerWidth,
    height = window.innerHeight;
const camera = new THREE.PerspectiveCamera(80, width / height, 0.01, 1000);
camera.position.y = 130;

camera.position.z = 5;
		camera.lookAt( 0, 0, 5 );
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x0a3223);
scene.fog = new THREE.Fog(0x0a3223, 100, 290);

const renderer = new THREE.WebGLRenderer({
    antialias: true
});
renderer.shadowMap.enabled = true;
renderer.shadowMap.type = THREE.PCFSoftShadowMap;
renderer.setSize(width, height);
renderer.setAnimationLoop(animation);
document.body.appendChild(renderer.domElement);

var axes = new THREE.AxesHelper(50);
//scene.add(axes);

const ambient = new THREE.HemisphereLight(0xffffff, 0x080820, 2);
//scene.add(ambient);
const light = new THREE.AmbientLight( 0xffffff, 1 ); // soft white light
scene.add( light );

var cube = {}, cubegeo = {}, cubemats = {};
var dirlights = {}, helper = {}, dirhelper = {};


for (var i = 0; i < 1; i++) {
    dirlights[i] = new THREE.DirectionalLight(0xffffff, 4);
    dirlights[i].castShadow = true;
    dirlights[i].mapSize = (1080, 1080);

		dirlights[i].position.set( -100, 40, 0 );
   // dirlights[i].position.set(-100, 40, Math.random() * 15 - 10);

    dirlights[i].shadow.camera.left = -100;
    dirlights[i].shadow.camera.right = 100;
    dirlights[i].shadow.camera.top = 100;
    dirlights[i].shadow.camera.bottom = -20;
    scene.add(dirlights[i]);

    helper[i] = new THREE.CameraHelper(dirlights[i].shadow.camera);
    //scene.add(helper[i]);
    dirhelper[i] = new THREE.DirectionalLightHelper(dirlights[i], 6);
    //scene.add(dirhelper[i]);
}

//Creating plane
var planeGeometry = new THREE.PlaneGeometry(300, 250);
var pTexture = new THREE.TextureLoader().load( 
	"https://media.istockphoto.com/id/939444810/vector/blackboard-inscribed-with-scientific-formulas-and-calculations-in-physics-and-mathematics-can.jpg?s=612x612&w=0&k=20&c=IyJw3M9YSPv1mDQ7Y3LghNXs9rrB3vvrYMiBnkjWmo0=" );
var planeMaterial = new THREE.MeshLambertMaterial({ color: 0xAAAAAA, map: pTexture });
var plane = new THREE.Mesh(planeGeometry, planeMaterial);
plane.rotation.x = -0.5 * Math.PI;
plane.position.set(0, -4, 0);
plane.receiveShadow = true;
scene.add(plane);

const cubeGeo = new THREE.BoxGeometry( 5, 2, 20 );
const cubeMats = new THREE.MeshStandardMaterial({ color: 0x00ff00 });
cube[0] = new THREE.Mesh(cubeGeo, cubeMats);
cube[0].position.y = 10;
		cube[0].position.x = -40;
		cube[0].rotation.z = 75;
cube[0].castShadow = true;
scene.add(cube[0]);

		cubegeo[1] = new THREE.BoxGeometry( 5, 10, 5 );
cube[1] = new THREE.Mesh(cubegeo[1], cubeMats);
cube[1].position.x = -40;
cube[1].position.y = 1;
		cube[1].position.z = -7;
cube[1].receiveShadow = true;
cube[1].castShadow = true;
scene.add(cube[1]);
		
cube[2] = cube[1].clone();
		cube[2].position.x = -40;
		cube[2].position.y = 1;
		cube[2].position.z = 7;
		scene.add(cube[2]);
		
		cube[3] = cube[1].clone();
		cube[3].position.x = -40;
		cube[3].position.y = -3;
		cube[3].position.z = 0;
	scene.add(cube[3]);
		
		cube[4] = cube[0].clone();
		cube[4].position.y = 1;
		cube[4].position.x = 20;
		cube[4].position.z = 0;
		scene.add(cube[4]);
		
		cube[5] = cube[0].clone();
		cube[5].position.y = 1;
		cube[5].position.x = 0;
		cube[5].position.z = -1;
		cube[5].rotation.y = 70;
		cube[5].castShadow = false;
		cube[5].rotation.z = 0;
		scene.add(cube[5]);
		
		cube[6] = cube[5].clone();
		cube[6].position.x = 11;
		cube[6].rotation.y = -70;
		cube[6].castShadow = false;
		cube[6].rotation.z = 0;
		scene.add(cube[6]);
		
		cube[7] = cube[1].clone();
		cube[7].position.x = 32;
		scene.add(cube[7]);
		
		cube[8] = cube[7].clone();
		cube[8].position.z = 7;
		scene.add(cube[8]);
		
		//group of cubes
		const cGroup = new THREE.Group();
		for (var i = 0; i <= cube.size; i++){
				cGroup.add(cube[i]);
		}
			//	scene.add(cGroup);
		console.log(cGroup);
// animation
const controls = new OrbitControls(camera, renderer.domElement);
//controls.autoRotate = true;
controls.autoRotateSpeed = 1;
// controls.target(0, 0, 0);
//controls.enableZoom = false; //stop the ability to zoom
controls.enablePan = false; //stop the camara from moving left and right
controls.update();
function animation(time) {
    renderer.render(scene, camera);
    controls.update();
}

    </script>
</body>

</html>